INITIALIZE:	ORG	0A000H
	MOV	R1,#00H
	MOV	R2,#00H
	MOV	R3,#00H
	MOV	R7, #0C5H
	MOV	R6, #00H
	MOV	R5, #0C5H
	MOV	R4, #10H
	MOV	DPH, R5
	MOV	DPL, R4

HEADER:
	MOV	A, #3AH
	MOVX	@DPTR, A
	INC	DPTR
	MOV	A, #10H
	MOVX	@DPTR, A
	ADD	A, R3
	MOV	R3, A
	INC	DPTR
	MOV	A, R7
	MOVX	@DPTR, A
	ADD	A, R3
	MOV	R3, A
	INC	DPTR
	MOV	A, R6
	MOVX	@DPTR, A
	ADD	A, R3
	MOV	R3, A
	INC	DPTR
	MOV	A, #00H
	MOVX	@DPTR, A
	ADD	A, R3
	MOV	R3, A
	INC	DPTR
	MOV	R2, #10H
	MOV	R5, DPH
	MOV	R4, DPL

LOOP1:
	MOV	DPH, R7
	MOV	DPL, R6
	MOVX	A, @DPTR
	INC	DPTR
	MOV	R7, DPH
	MOV	R6, DPL
	MOV	DPH, R5
	MOV	DPL, R4
	MOVX	@DPTR, A
	INC	DPTR
	MOV	R5, DPH
	MOV	R4, DPL
	ADD	A, R3
	MOV	R3, A
	DEC	R2
	CJNE	R2, #00H, LOOP1

CHECKSUM:
	MOV	A, R3
	CPL	A
	INC	A
	MOV	DPH, R5
	MOV	DPL, R4
	MOVX	@DPTR, A
	END

